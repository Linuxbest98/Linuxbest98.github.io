(self.webpackChunki_trade_fe=self.webpackChunki_trade_fe||[]).push([[621],{2621:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(7294),a=n(7703),i=n(4184),l=n.n(i),o=n.p+"static/src/assets/images/icons/nav_personalsetting_icon_pricerise.png",c=n.p+"static/src/assets/images/icons/nav_personalsetting_icon_pricefall.png",s=n(3379),u=n.n(s),f=n(6058),p={insert:"head",singleton:!1},m=(u()(f.Z,p),f.Z.locals,n(8697)),g=n(4069),d=n(9127);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&E(e.prototype,t),n&&E(e,n),e}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var N=[{id:1,name:"HK"},{id:2,name:"SH"},{id:3,name:"EX"}],A=function(e){x(n,e);var t=k(n);function n(e){var a;return v(this,n),w(R(a=t.call(this,e)),"handleEdit",(function(e){a.setState({alert:e,isOpenSetAlert:!0,tab:2})})),w(R(a),"handleDelete",(function(e){a.setState({isShowConfirmDelete:!0,deleteTargetID:e})})),w(R(a),"handleConfirmDelete",(function(){var e=a.state,t=e.deleteTargetID,n=e.alert;if(t>-1){var r=b(a.state.alerts),i=r.findIndex((function(e){return e.id===t}));if(i>-1){var l=r[i].id===n.id;r.splice(i,1),a.setState({alerts:r,isShowConfirmDelete:!1,deleteTargetID:-1,alert:l?null:n,isOpenSetAlert:!l})}}})),w(R(a),"handleSaveAlert",(function(){if(a.validateInput()){var e=a.setAlertRef.getSetting(),t=b(a.state.alerts),n=t.find((function(t){return t.id===e.id}));if(n){n.priceRise=e.priceRise,n.priceFall=e.priceFall;var r={updateAlert:n};a.props.updateAlert(r,(function(e){e.result.errorCode===d.LS.SUCCESS_CODE&&a.setState({isOpenSetAlert:!1,tab:1,alerts:t})}))}}else a.setState({errorText:a.props.language.alert_setting_error_at_least_one})})),w(R(a),"handleCancel",(function(){a.setState({isOpenSetAlert:!1,tab:1,alert:null,errorText:""})})),a.state={alerts:[],tab:1,alert:null,isOpenSetAlert:!1,isShowConfirmDelete:!1,errorText:""},a.tabHeaderRef=r.createRef(),a.tabContentRef=r.createRef(),a}return _(n,[{key:"render",value:function(){var e=this,t=this.props.language,n=this.state,a=n.tab,i=n.alerts,o=n.alert,c=n.isOpenSetAlert,s=n.isShowConfirmDelete,u=n.errorText;return r.createElement("div",{className:"alert-setting-container",onClick:this.handleClick},r.createElement("section",null,r.createElement("div",{className:"tab-header",ref:this.tabHeaderRef},r.createElement("span",{className:l()("tab-item",1===a&&"tab-item-active"),onClick:function(){return e.setState({tab:1})}},"My Alert"),c&&r.createElement("span",{className:l()("tab-item",2===a&&"tab-item-active"),onClick:function(){return e.setState({tab:2})}},"Set Alert")),r.createElement("div",{className:"tab-content",ref:this.tabContentRef},1===a&&r.createElement(D,{language:t,alerts:i,onEdit:this.handleEdit,onDelete:this.handleDelete}),2===a&&r.createElement(P,{language:t,innerRef:function(t){return e.setAlertRef=t},alert:o}))),u&&r.createElement("section",{className:"error-message"},r.createElement(m.Z,null,u)),2===a&&r.createElement("div",{className:"action-container"},r.createElement("button",{onClick:this.handleCancel},t.common_button_cancel),r.createElement("button",{onClick:this.handleSaveAlert},t.common_button_submit)),s&&r.createElement("div",{className:"pop-up-background"}),r.createElement("div",{className:l()("confirm-delete-popup",s&&"scale-up-animation")},r.createElement("span",null,t.common_delete_confirm),r.createElement("div",null,r.createElement("button",{onClick:function(){return e.setState({isShowConfirmDelete:!1,deleteTargetID:-1})}},t.common_button_cancel),r.createElement("button",{onClick:this.handleConfirmDelete},t.common_yes))))}},{key:"validateInput",value:function(){var e=!1,t=this.setAlertRef.getSetting();return(t.priceFall||t.priceRise||t.priceRiseOrFall)&&(e=!0,this.setState({errorText:""})),e}},{key:"componentDidMount",value:function(){var e=this;if(this.tabHeaderRef.current&&this.tabContentRef.current){var t=this.tabHeaderRef.current.offsetHeight;this.tabContentRef.current.style.height="calc(100% - ".concat(t,"px)")}this.props.getAlerts({},(function(t){t.result.errorCode===d.LS.SUCCESS_CODE&&e.setState({alerts:t.result.mainResult})}))}}]),n}(r.Component),j=(0,a.$j)((function(e){return{language:e.app.language}}),(function(e){return{getAlerts:function(t,n){return e(g.h.getAlertAction(t,n))},updateAlert:function(t,n){return e(g.h.updateAlertAction(t,n))}}}))(A),D=function(e){x(n,e);var t=k(n);function n(e){var r;return v(this,n),(r=t.call(this,e)).state={selectedFilter:1},r}return _(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.language,a=t.alerts,i=this.state.selectedFilter;return r.createElement("div",{className:"my-alert-container"},r.createElement("div",{className:"filter-list"},N.map((function(t){return r.createElement("span",{key:t.id,className:l()("filter-item",i===t.id&&"filter-item-active"),onClick:function(){return e.setState({selectedFilter:t.id})}},t.name)}))),r.createElement("div",{className:"alert-list"},a.map((function(t){return t.marketId===i&&r.createElement("div",{key:t.id,className:"alert-item"},r.createElement("div",{className:"stock-infor"},r.createElement("span",null,t.stockCode),r.createElement("span",null,t.stockName),r.createElement("span",{className:t.changeValue>0?"color-green":t.changeValue<0?"color-red":void 0},t.currentPrice),r.createElement("span",{className:t.changeValue>0?"color-green":t.changeValue<0?"color-red":void 0},t.changePercent,"%"),r.createElement("button",{onClick:function(){return e.props.onEdit(t)}},n.common_button_edit),r.createElement("button",{onClick:function(){return e.props.onDelete(t.id)}},n.common_button_delete)),r.createElement("div",{className:"alert-price-rise"},r.createElement("img",{src:o,alt:"price_rise"}),r.createElement("span",null,n.alert_setting_price_rises_to),r.createElement("span",null,t.priceRise)),r.createElement("div",{className:"alert-price-fall"},r.createElement("img",{src:c,alt:"price_fall"}),r.createElement("span",null,n.alert_setting_price_falls_under),r.createElement("span",null,t.priceFall)))}))))}},{key:"componentDidMount",value:function(){this.setState({alertsInternal:this.props.alerts})}}]),n}(r.Component),P=function(e){x(n,e);var t=k(n);function n(e){var r;return v(this,n),w(R(r=t.call(this,e)),"getSetting",(function(){return{id:r.props.alert.id,priceRise:r.priceRise.value,priceFall:r.priceFall.value,priceRiseOrFall:r.priceRiseOrFall.value}})),e.innerRef(R(r)),r}return _(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.language,a=t.alert;return r.createElement("div",{className:"set-alert-container"},r.createElement("div",{className:l()("stock-infor",a.changeValue>0?"color-green":a.changeValue<0?"color-red":void 0)},r.createElement("span",{className:"stock-name"},a.stockName),r.createElement("span",{className:"stock-price"},a.changeValue),r.createElement("span",{className:"change-number"},a.currentPrice),r.createElement("span",{className:"change-percent"},a.changePercent,"%")),r.createElement("div",{className:"setting-item"},r.createElement("label",null,n.alert_setting_price_rises_to),r.createElement("input",{type:"number",ref:function(t){return e.priceRise=t},defaultValue:a.priceRise})),r.createElement("div",{className:"setting-item"},r.createElement("label",null,n.alert_setting_price_falls_under),r.createElement("input",{type:"number",ref:function(t){return e.priceFall=t},defaultValue:a.priceFall})),r.createElement("div",{className:"setting-item"},r.createElement("label",null,n.alert_setting_price_rises_or_falls," (%)"),r.createElement("input",{type:"number",ref:function(t){return e.priceRiseOrFall=t}})))}}]),n}(r.Component)},8697:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(7294),a=n(4184),i=n.n(a),l=n(3379),o=n.n(l),c=n(4843),s={insert:"head",singleton:!1},u=(o()(c.Z,s),c.Z.locals,n(7703)),f=n.p+"static/src/assets/images/icons/wrong_icon.png",p=n(9223);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var a=y(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(o,e);var t,n,a,l=h(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=l.call(this,e)).state={},t}return t=o,(n=[{key:"render",value:function(){var e=this.props.isSuccess;return r.createElement("div",{className:i()("error-text",e&&"success-text")},r.createElement("label",null,r.createElement("img",{src:e?p.Z:f,alt:"wrong_icon"})),r.createElement("span",null,this.props.children))}}])&&g(t.prototype,n),a&&g(t,a),o}(r.Component);v.defaultProps={isSuccess:!1};var E=(0,u.$j)()(v)},6058:function(e,t,n){"use strict";var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".alert-setting-container{display:flex;flex-direction:column;height:100%}.alert-setting-container section{padding:0 10px;display:flex;flex-direction:column;height:100%}.alert-setting-container section .color-green{color:#28c76f}.alert-setting-container section .color-red{color:#ea5455}.alert-setting-container section .tab-header{margin-bottom:20px}.alert-setting-container section .tab-header .tab-item{margin-right:30px;padding:7px 0;cursor:pointer}.alert-setting-container section .tab-header .tab-item-active{color:#1996e3;border-bottom:2px solid #1996e3;cursor:default}.alert-setting-container section .tab-content{flex-grow:1}.alert-setting-container section .my-alert-container{height:100%;display:flex;flex-direction:column;margin:0 -30px}.alert-setting-container section .my-alert-container .filter-list{margin-bottom:20px;padding:0 30px}.alert-setting-container section .my-alert-container .filter-list .filter-item{cursor:pointer;margin-right:30px}.alert-setting-container section .my-alert-container .filter-list .filter-item-active{color:#1996e3;cursor:default}.alert-setting-container section .my-alert-container .alert-list{overflow:auto}.alert-setting-container section .my-alert-container .alert-list .alert-item{padding:10px 30px}.alert-setting-container section .my-alert-container .alert-list .alert-item:hover{background:#2f3845}.alert-setting-container section .my-alert-container .alert-list .alert-item .stock-infor{display:flex;align-items:center}.alert-setting-container section .my-alert-container .alert-list .alert-item .stock-infor>span{margin-right:10px}.alert-setting-container section .my-alert-container .alert-list .alert-item .stock-infor>button{cursor:pointer;color:#fff;border:none;outline:none;background:transparent}.alert-setting-container section .my-alert-container .alert-list .alert-item .stock-infor>button:nth-child(5){margin-left:auto}.alert-setting-container section .my-alert-container .alert-list .alert-item .stock-infor>button:last-child{margin-left:10px}.alert-setting-container section .my-alert-container .alert-list .alert-item .stock-infor .confirm-delete{display:flex;flex-direction:column;margin-left:10px;position:relative}.alert-setting-container section .my-alert-container .alert-list .alert-item .stock-infor .confirm-delete>button{cursor:pointer;color:#fff;border:none;outline:none;background:transparent}.alert-setting-container section .my-alert-container .alert-list .alert-item .stock-infor .confirm-delete>button:last-child{position:absolute;top:120%}.alert-setting-container section .my-alert-container .alert-list .alert-item .alert-price-rise{display:flex;align-items:center}.alert-setting-container section .my-alert-container .alert-list .alert-item .alert-price-rise>img{margin-right:15px;height:14px}.alert-setting-container section .my-alert-container .alert-list .alert-item .alert-price-rise>span{margin-left:5px}.alert-setting-container section .my-alert-container .alert-list .alert-item .alert-price-rise>span:last-child{color:#28c76f}.alert-setting-container section .my-alert-container .alert-list .alert-item .alert-price-fall{display:flex;align-items:center}.alert-setting-container section .my-alert-container .alert-list .alert-item .alert-price-fall>img{margin-right:15px;height:14px}.alert-setting-container section .my-alert-container .alert-list .alert-item .alert-price-fall>span{margin-left:5px}.alert-setting-container section .my-alert-container .alert-list .alert-item .alert-price-fall>span:last-child{color:#ea5455}.alert-setting-container section .set-alert-container{margin:10px 0}.alert-setting-container section .set-alert-container .stock-infor>span{margin-right:10px}.alert-setting-container section .set-alert-container .stock-infor .stock-name{font-weight:700;color:#fff}.alert-setting-container section .set-alert-container .setting-item{margin-bottom:15px;display:flex;align-items:center}.alert-setting-container section .set-alert-container .setting-item>label{width:30%}.alert-setting-container section .set-alert-container .setting-item>input{min-width:30%;padding:5px 10px;outline:none;border:none;color:#fff;text-align:center;margin-left:10px}.alert-setting-container .error-message{padding:0 30px}.alert-setting-container .error-message .error-text{height:auto}",""]),t.Z=a},4843:function(e,t,n){"use strict";var r=n(3645),a=n.n(r)()((function(e){return e[1]}));a.push([e.id,".error-text{background-color:rgba(255,255,255,.65);border-radius:2px;margin-bottom:24px;padding:5px 0;color:#ea5455;display:flex;justify-content:start;align-items:center}.error-text>label{display:inline-flex;display:flex;justify-content:start;align-items:center;width:14px;margin:0 14px 0 17px}.error-text>span{padding-right:10px}.success-text{background-color:rgba(255,255,255,.65);color:#28c76f}",""]),t.Z=a},9223:function(e,t,n){"use strict";t.Z=n.p+"static/src/assets/images/icons/icon_success.png"}}]);