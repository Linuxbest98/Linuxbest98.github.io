(self.webpackChunki_trade_fe=self.webpackChunki_trade_fe||[]).push([[866],{8866:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return R}});var r=a(7294),l=a(7703),n=a(1096),o=(a(9722),a(7478)),i=a(7993),c=a(3042);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=p(e);if(t){var l=p(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return h(this,a)}}function h(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,a,l,n=f(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),y(b(t=n.call(this,e)),"handleEditOrder",(function(e){})),y(b(t),"handleCancelOrder",(function(e){})),t.state={data:[],columnDefs:[{headerName:"Actions",field:"action",headerClass:"table-header",cellClass:"table-cell cell-action",dataType:c.P.EDIT_CANCEL,cellRendererParams:{onEditOrder:t.handleEditOrder,onCancelOrder:t.handleCancelOrder}},{headerName:"Order ID",field:"orderID",headerClass:"table-header",cellClass:"table-cell",dataType:c.P.TEXT},{headerName:"Symbol",field:"symbol",headerClass:"table-header",cellClass:"table-cell",dataType:c.P.TEXT},{headerName:"Name",field:"name",headerClass:"table-header",cellClass:"table-cell",dataType:c.P.TEXT},{headerName:"CCY",field:"ccy",headerClass:"table-header",cellClass:"table-cell",dataType:c.P.TEXT},{headerName:"Buy/Sell",field:"buy_sell",headerClass:"table-header",cellClass:"table-cell",dataType:c.P.TEXT},{headerName:"Quantity",field:"quantity",headerClass:"table-header",cellClass:"table-cell cell-action",dataType:c.P.NUMBER},{headerName:"Avg Price",field:"avg_price",headerClass:"table-header",cellClass:"table-cell cell-action",dataType:c.P.CURRENCY},{headerName:"Status",field:"status",headerClass:"table-header",cellClass:"table-cell cell-action",dataType:c.P.STATUS},{headerName:"Order Type",field:"order_type",headerClass:"table-header",cellClass:"table-cell cell-action",dataType:c.P.TEXT},{headerName:"Stop Price",field:"stop_price",headerClass:"table-header",cellClass:"table-cell cell-action",dataType:c.P.CURRENCY},{headerName:"Create Time",field:"create_time",headerClass:"table-header",cellClass:"table-cell cell-action",dataType:c.P.TEXT}]},t}return t=i,(a=[{key:"render",value:function(){var e=this.state,t=e.data,a=e.columnDefs;return r.createElement("div",{className:"order-book-container",style:{flexGrow:1}},r.createElement(o.Z,{columnDefs:a,data:t}))}},{key:"componentDidMount",value:function(){var e=this;this.props.getOrderBook({},(function(t){e.setState({data:t})}))}}])&&u(t.prototype,a),l&&u(t,l),i}(r.Component),T=(0,l.$j)((function(e){return{language:e.app.language}}),(function(e){return{getOrderBook:function(t,a){return e(n.zk.getOrderBookAction(t,a))}}}))(m),g=a(1373),C=a(3471);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=O(e);if(t){var l=O(this).constructor;a=Reflect.construct(r,arguments,l)}else a=r.apply(this,arguments);return N(this,a)}}function N(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(s,e);var t,a,l,n=P(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),S(_(t=n.call(this,e)),"handleChangeStockTableTab",(function(e){var a=t.props.language;switch(e.main.title){case a.portfolio_title:t.setState({stockTableTab:1});break;case a.watchlist_title:t.setState({stockTableTab:2})}})),S(_(t),"handleChangeOrderTableTab",(function(e){var a=t.props.language;switch(e.main.title){case a.order_book_title:t.setState({orderTableTab:3});break;case a.order_history_title:t.setState({orderTableTab:4});break;case a.common_notification:t.setState({orderTableTab:5})}})),t.state={columnDefs:[{headerName:"Actions",field:"action",headerClass:"table-header",cellClass:"table-cell cell-action",dataType:c.P.BUY_SELL},{headerName:"Symbol",field:"symbol",headerClass:"table-header",cellClass:"table-cell",dataType:c.P.TEXT},{headerName:"Name",field:"name",headerClass:"table-header",cellClass:"table-cell",dataType:c.P.TEXT},{headerName:"Price",field:"price",headerClass:"table-header",cellClass:"table-cell",dataType:c.P.CURRENCY},{headerName:"Volume",field:"volume",headerClass:"table-header",cellClass:"table-cell",dataType:c.P.NUMBER},{headerName:"Change %",field:"changePercent",headerClass:"table-header",cellClass:"table-cell cell-action",dataType:c.P.PERCENT,bindingColor:!0},{headerName:"Position",field:"position",headerClass:"table-header",cellClass:"table-cell cell-action",dataType:c.P.NUMBER},{headerName:"Currency",field:"ccy",headerClass:"table-header",cellClass:"table-cell cell-action",dataType:c.P.TEXT}],stockTableData:null,stockTableTab:1,orderTableTab:3,stockTableTabList:[],orderTableTabList:[{id:9,title:e.language.order_book_title,isActive:!0},{id:8,title:e.language.order_history_title},{id:7,title:e.language.common_notification}]},t}return t=s,(a=[{key:"render",value:function(){var e=this,t=(this.props.language,this.state),a=t.columnDefs,l=t.stockTableData,n=t.stockTableTab,c=t.orderTableTab,s=t.stockTableTabList,u=t.orderTableTabList;return r.createElement(r.Fragment,null,r.createElement("div",{className:"trading-container"},r.createElement("div",{className:"left"},r.createElement("section",{className:"stock-table"},r.createElement(g.Z,{tabs:s,onChange:this.handleChangeStockTableTab}),1===n&&r.createElement(o.Z,{columnDefs:a,data:l,innerRef:function(t){return e.stockTableRef=t}}),2===n&&r.createElement(C.Z,null)),r.createElement("section",{className:"order-table"},r.createElement(g.Z,{tabs:u,onChange:this.handleChangeOrderTableTab}),3===c&&r.createElement(T,null),4===c&&r.createElement(T,null))),r.createElement("div",{className:"right"},r.createElement("section",{className:"asset"}),r.createElement("section",{className:"stock-infor"},r.createElement(i.Z,{disableProfile:!0,disableInstrumentIndex:!0})))))}},{key:"initTabHeader",value:function(e,t){var a=this.props.language,r=[];Array.isArray(e)&&(r.push({id:1,title:a.portfolio_title,children:[]}),r[0].children.push({id:0,title:"All"}),e.forEach((function(e){r[0].children.push({id:r[0].children.length,title:e.label})}))),Array.isArray(t)&&(r.push({id:2,title:a.watchlist_title,children:[]}),r[1].children.push({id:0,title:"All"}),t.forEach((function(e){r[1].children.push({id:r[1].children.length,title:e.title})}))),this.setState({stockTableTabList:r})}},{key:"componentDidMount",value:function(){var e=this;this.props.getAccountPortfolio({},(function(t){e.setState({stockTableData:t})})),this.initTabHeader(this.props.markets,this.props.watchlist)}},{key:"componentWillReceiveProps",value:function(e){JSON.stringify(e.markets)===JSON.stringify(this.props.markets)&&JSON.stringify(e.watchlist)===JSON.stringify(this.props.watchlist)||this.initTabHeader(e.markets,e.watchlist)}}])&&E(t.prototype,a),l&&E(t,l),s}(r.Component),R=(0,l.$j)((function(e){return{language:e.app.language,markets:e.trade.markets,watchlist:e.user.watchlist}}),(function(e){return{getAccountPortfolio:function(t,a){return e((0,n.O2)(t,a))}}}))(w)},273:function(e,t,a){"use strict";var r=a(3645),l=a.n(r)()((function(e){return e[1]}));l.push([e.id,".trading-container{width:100%;height:100%;display:flex}.trading-container section{background-color:#232c37}.trading-container .left{flex-grow:1;display:flex;flex-direction:column}.trading-container .left .stock-table{height:100%;margin-bottom:4px;display:flex;flex-direction:column}.trading-container .left .order-table{height:100%;display:flex;flex-direction:column}.trading-container .right{width:30%;display:flex;flex-direction:column}.trading-container .right .asset{margin:0 0 4px 4px;height:30%}.trading-container .right .stock-infor{flex-grow:1;margin-left:4px}",""]),t.Z=l},9722:function(e,t,a){"use strict";var r=a(3379),l=a.n(r),n=a(273),o={insert:"head",singleton:!1};l()(n.Z,o),n.Z.locals}}]);