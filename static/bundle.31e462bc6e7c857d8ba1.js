(self.webpackChunki_trade_fe=self.webpackChunki_trade_fe||[]).push([[595],{5595:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return j}});var r=n(7294),o=n(4184),i=n.n(o),a=n(7703),c=n.p+"static/src/assets/images/icons/nav_search_icon_watchlist_hit.png",s=n.p+"static/src/assets/images/icons/nav_search_icon_watchlist_normal.png",u=n(3379),l=n.n(u),f=n(4767),p={insert:"head",singleton:!1};l()(f.Z,p),f.Z.locals;function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=[{id:1,label:"Stock"},{id:2,label:"Futures"}],x=[{id:1,stockCode:"AA.00001",stockName:"CK Holdings",isFavorite:!1},{id:2,stockCode:"AB.00002",stockName:"CK Holdings",isFavorite:!1},{id:3,stockCode:"BC.00003",stockName:"CK Holdings",isFavorite:!1},{id:4,stockCode:"CD.00004",stockName:"CK Holdings",isFavorite:!1},{id:5,stockCode:"DD.00005",stockName:"CK Holdings",isFavorite:!1},{id:6,stockCode:"HH.00006",stockName:"CK Holdings",isFavorite:!1},{id:7,stockCode:"HK.00007",stockName:"CK Holdings",isFavorite:!1},{id:8,stockCode:"AH.00008",stockName:"CK Holdings",isFavorite:!1},{id:9,stockCode:"BE.00009",stockName:"CK Holdings",isFavorite:!1},{id:10,stockCode:"EH.00010",stockName:"CK Holdings",isFavorite:!1}],_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(u,e);var t,n,o,a=g(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),w(k(t=a.call(this,e)),"onSearchText",t.debounce((function(){var e=t.state.keyword;if(""!==t.state.keyword){var n=x.filter((function(t){return t.stockCode.toLowerCase().includes(e.toLowerCase())||t.stockName.toLowerCase().includes(e.toLowerCase())}));t.setState({result:n})}else t.setState({result:x})}),200)),w(k(t),"onChangeText",(function(e){e.target&&(t.setState({keyword:e.target.value.trim()}),t.onSearchText())})),t.state={isOpen:!1,tab:1,result:[],keyword:""},t}return t=u,(n=[{key:"render",value:function(){var e=this,t=this.props.isOpen,n=this.state,o=n.tab,a=n.result;return r.createElement("div",{className:i()("search-container",t&&"search-container--open")},t&&r.createElement(r.Fragment,null,r.createElement("section",{className:"tab-header"},O.map((function(t){return r.createElement("label",{onClick:function(){return e.setState({tab:t.id})},className:i()("tab-item",o===t.id&&"tab-item--active"),key:t.id},t.label)}))),r.createElement("section",{className:"tab-content"},a.map((function(t){return r.createElement("div",{className:"result-item",key:t.id},r.createElement("span",null,t.stockCode),r.createElement("span",null,t.stockName),r.createElement("img",{src:t.isFavorite?c:s,alt:"search_box_wishlist_icon",onClick:function(){return e.toggleWishlist(t.id)}}))}))),r.createElement("section",{className:"search-input"},r.createElement("input",{type:"text",onChange:this.onChangeText}))))}},{key:"debounce",value:function(e,t){var n;return function(){var r=arguments,o=this;n&&clearTimeout(n),n=setTimeout((function(){return e.apply(o,r)}),t)}}},{key:"toggleWishlist",value:function(e){var t=this.state.result;this.setState({result:t.map((function(t){return t.id===e?b(b({},t),{},{isFavorite:!t.isFavorite}):t}))})}},{key:"componentDidMount",value:function(){this.setState({result:x})}}])&&m(t.prototype,n),o&&m(t,o),u}(r.Component),j=(0,a.$j)((function(e){return{}}))(_)},4767:function(e,t,n){"use strict";var r=n(3645),o=n.n(r)()((function(e){return e[1]}));o.push([e.id,".search-container{width:0;height:0;position:absolute;bottom:38px;left:71px;display:flex;flex-direction:column}.search-container .tab-header{display:flex;justify-content:space-around;padding:10px 0;font-weight:700}.search-container .tab-header .tab-item{cursor:pointer}.search-container .tab-header .tab-item--active{color:#1996e3}.search-container .tab-content{overflow:auto}.search-container .tab-content .result-item{padding:10px;display:flex;align-items:center}.search-container .tab-content .result-item:hover{cursor:pointer;background:#4e5154}.search-container .tab-content .result-item>span:nth-child(2){margin-left:auto;margin-right:7px}.search-container .tab-content .result-item>img{height:11px;cursor:pointer}.search-container .search-input{background-color:#4e5154;margin:auto 20px 10px 10px}.search-container .search-input>input{background:transparent;outline:none;border:none;padding:5px 10px;font-size:16px}.search-container--open{width:400px;height:300px}",""]),t.Z=o}}]);