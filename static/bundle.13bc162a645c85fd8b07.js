(self.webpackChunki_trade_fe=self.webpackChunki_trade_fe||[]).push([[42],{8078:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var o=n(7294),r=n(7703),i=n(4184),s=n.n(i),a=n(3777),c=n(2802),l=n(7434),p=n(3379),d=n.n(p),u=n(7300),f={insert:"head",singleton:!1};d()(u.Z,f),u.Z.locals;function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=S(e);if(t){var r=S(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(p,e);var t,n,r,i=O(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),C(x(t=i.call(this,e)),"handleClickSearchInput",(function(e){t.state.isOpen&&e.stopPropagation()})),C(x(t),"toggleMenuOption",(function(){t.setState({isOpen:!t.state.isOpen,chosenIndex:-1},(function(){t.props.isMultiple&&t.state.isOpen&&t.searchInput.current&&(t.setState({searchKeyword:""}),t.searchInput.current.focus())}))})),C(x(t),"handleSearchOption",(function(e){var n=e.currentTarget.value;t.setState({searchKeyword:n.toLowerCase()})})),C(x(t),"handleClick",(function(e){t.dropdownContainer&&!t.dropdownContainer.current.contains(e.target)&&t.state.isOpen&&t.setState({isOpen:!1})})),C(x(t),"onKeyDown",(function(e){if(e.ctrlKey&&32===e.keyCode&&t.openSpotlight(),t.searchInput.current){var n=t.state,o=n.internalOptions,r=n.chosenIndex,i=n.searchKeyword;switch(e.keyCode){case 13:return void t.handleChooseOption(r);case 27:return void t.setState({isOpen:!1});case 38:for(var s=1;s<o.length;s++){var a=(r-s)%o.length;if(a<0&&(a+=o.length),o[a].isVisible&&o[a].label.toLowerCase().includes(i)){t.setState({chosenIndex:a});break}}return;case 40:for(var c=1;c<o.length;c++){var l=(r+c)%o.length;if(o[l].isVisible&&o[l].label.toLowerCase().includes(i)){t.setState({chosenIndex:l});break}}return;default:return}}})),e.innerRef(x(t)),t.state={isOpen:!1,internalOptions:[],searchOptions:[],selectedOptions:e.selectedOptions,searchKeyword:"",chosenIndex:-1},t.dropdownContainer=o.createRef(),t.searchInput=o.createRef(),t}return t=p,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.isMultiple,r=t.style,i=t.placeholder,p=this.state,d=p.isOpen,u=p.selectedOptions,f=p.internalOptions,h=p.searchKeyword,y=p.chosenIndex;return o.createElement("div",{className:"dropdown-container",ref:this.dropdownContainer,style:r},o.createElement("div",{className:"dropdown-input",onClick:this.toggleMenuOption},n?o.createElement("div",null,u.length>0?u.map((function(t,n){return o.createElement("div",{key:t.value,className:"dropdown-option-selected"},o.createElement("span",null,t.prefix,t.label),o.createElement("span",{onClick:function(t){return e.removeOption(t,n)},className:"icon is-small icon-close"},o.createElement(a.Z,null)))})):o.createElement("span",{className:"dropdown-option-single-selected"},"Â "),u.length<f.length&&d&&o.createElement("input",{ref:this.searchInput,className:"dropdown-search",type:"text",onChange:this.handleSearchOption,onClick:this.handleClickSearchInput})):o.createElement("span",{className:"dropdown-option-single-selected"},u[0]?u[0]&&u[0].prefix:"",u[0]?u[0].label:i),o.createElement("div",{className:"icon is-small icon-chevron",style:{visibility:d?"visible":"hidden"}},o.createElement(c.Z,{size:16})),o.createElement("div",{className:"icon is-small icon-chevron",style:{visibility:d?"hidden":"visible"}},o.createElement(l.Z,{size:16}))),o.createElement("div",{className:s()("dropdown-content",d?"dropdown-content-open":void 0)},f.map((function(t,n){return o.createElement("div",{className:s()("dropdown-option",n===y?"dropdown-option-chosen":void 0),style:{display:t.isVisible&&t.label.toLowerCase().includes(h)?"block":"none"},key:t.value,onMouseEnter:function(){return e.handleMouseEnter(n)},onClick:function(){return e.handleChooseOption(n)}},o.createElement("p",null,t.prefix,t.label))}))))}},{key:"removeOption",value:function(e,t){var n=this;e.stopPropagation(),document.removeEventListener("click",this.handleClick);var o=this.props.options,r=w(this.state.selectedOptions),i=w(this.state.internalOptions),s=r.splice(t,1),a=o.findIndex((function(e){return e.value===s[0].value}));a>-1&&(i[a].isVisible=!0),this.setState({selectedOptions:r,internalOptions:i},(function(){document.addEventListener("click",n.handleClick)})),this.props.onChange(r)}},{key:"handleChooseOption",value:function(e){var t=this.props.options,n=w(this.state.internalOptions),o=w(this.state.selectedOptions);if(this.props.isMultiple)o.push(t[e]),n[e].isVisible=!1,this.setState({isOpen:o.length!==t.length,internalOptions:n,selectedOptions:o});else{if(n[e].isVisible=!1,o.length>0){var r=t.findIndex((function(e){return e.value===o[0].value}));r>-1&&(n[r].isVisible=!0)}o=[t[e]],this.setState({isOpen:!1,internalOptions:n,selectedOptions:[t[e]]})}this.props.onChange(o)}},{key:"handleMouseEnter",value:function(e){this.setState({chosenIndex:e})}},{key:"setValue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Array.isArray(e)){var t=w(this.props.options);t.map((function(t){var n=e.findIndex((function(e){return e.value===t.value}));return t.isVisible=-1===n,t})),this.setState({selectedOptions:e,internalOptions:t})}}},{key:"getValue",value:function(){return this.state.selectedOptions}},{key:"initData",value:function(){var e=this.props,t=e.options,n=e.isMultiple,o=e.selectedOptions;if(t.length>0){var r=t.reduce((function(e,t){var r=v(v({},t),{},{isVisible:!0});return!n&&o.length>0&&o[0].value===r.value&&(r.isVisible=!1),e.push(r),e}),[]);this.setState({internalOptions:r,selectedOptions:o})}document.addEventListener("click",this.handleClick),document.addEventListener("keydown",this.onKeyDown)}},{key:"componentDidUpdate",value:function(e){JSON.stringify(e.options)!==JSON.stringify(this.props.options)&&this.initData()}},{key:"componentDidMount",value:function(){this.initData()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick),document.removeEventListener("keydown",this.onKeyDown)}}])&&m(t.prototype,n),r&&m(t,r),p}(o.Component);E.defaultProps={options:[],selectedOptions:[],isMultiple:!1,innerRef:function(){},onChange:function(){},style:{height:25},placeholder:"Please choose an option",prefix:""};var j=(0,r.$j)((function(e){return{theme:e.app.theme}}))(E)},7300:function(e,t,n){"use strict";var o=n(3645),r=n.n(o)()((function(e){return e[1]}));r.push([e.id,".dropdown-container{width:100%;position:relative;background-color:#424f5f}.dropdown-container .dropdown-input{border:1px solid transparent;color:#ccc;position:relative;text-align:center;display:flex;cursor:pointer;height:100%;align-items:center;padding:0 5px;padding-right:30px}.dropdown-container .dropdown-input .icon-chevron{position:absolute;right:5px;top:50%;transform:translateY(-50%)}.dropdown-container .dropdown-input .dropdown-option-single-selected{padding:5px 20px 5px 5px;display:block;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dropdown-container .dropdown-input .dropdown-search{color:#fff;background:transparent;height:25px;width:100px;border:none;padding:0 5px;outline:0;margin:auto 0}.dropdown-container .dropdown-input>div{display:flex;flex-wrap:wrap}.dropdown-container .dropdown-input>div .dropdown-option-selected{display:flex;align-items:center;background-color:#121921;margin:5px 0 5px 5px;padding:4px;border-radius:15px}.dropdown-container .dropdown-input>div .dropdown-option-selected .icon-close{margin-left:3px;height:24px}.dropdown-container .dropdown-content-container{position:absolute;width:100vw;height:100vh;top:0;left:0}.dropdown-container .dropdown-content{position:absolute;top:calc(100% + 5px);background-color:#adb5bd;z-index:1;width:100%;display:none;overflow:auto}.dropdown-container .dropdown-content .dropdown-option{color:#121921;padding:1px 5px;border-bottom:1px solid #333}.dropdown-container .dropdown-content .dropdown-option:last-child{border:none}.dropdown-container .dropdown-content .dropdown-option p{margin:0}.dropdown-container .dropdown-content .dropdown-option-chosen{background-color:#121921;color:#1996e3;cursor:pointer}.dropdown-container .dropdown-content-open{display:block}",""]),t.Z=r}}]);